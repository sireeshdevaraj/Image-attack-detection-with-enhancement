# WORKING WITH NBIS
Download the NBIS  latest release software from the following [LINK](https://www.nist.gov/itl/iad/image-group/products-and-services/image-group-open-source-server-nigos#Releases) on your UBUNTU

It is recommended to have a ubuntu version 20.04 or older. You might experience errors while installing NBIS on ubuntu 22.04 (The latest one).

Open terminal in the the downloaded directory

+ define the setup folder where you want to install the software
+  ` ./setup.sh /home/kuuhaku/Desktop/NBIS_TOOL  --STDLIBS --64`
+ make sure you have the GCC installed before running the setup
+ `sudo apt install gcc-9` 
+ `sudo make config`
+ if you get a error of make is not found then follow my steps
  + first update the sudo apt with sudo apt-get update
  + `sudo apt-get install -y make`
  + `sudo apt install build-essential`
+ `make it`
+ `make install LIBNBIS=yes`

you can check the NBIS_installation_folder, you can find all the required files inside the directory

+ Download the Sample data sets to [TEST](http://bias.csr.unibo.it/fvc2004/databases.asp)
+ If the Data Sets are in `*.tif` ,you may need to convert these to `*.jpeg`
+ Just a Quick info on **tif** vs **jpeg**
 + TIF means TAG IMAGE FILE FORMAT
 + TIFF files are much larger than JPEGs, but they're also lossless. TIFF files are perfect for images that require big editing jobs in Photoshop or other photo editing software.
+ Convert the TIF files to JPG by running the `main.py` file in the Data Set which can convert all the files at once
+ Extracting Data from given Data sets
+ Copy and place the data set directory inside our `NBIS_INSTALLED_FOLDER`
+ cd into our Dataset `/Desktop/nbis_tool/DB1_B` and run the following shell script `for file in *.jpg; do ../bin/mindtct /home/kuuhaku/Desktop/nbis_tool/DB1_B/"$file" /home/kuuhaku/Desktop/nbis_tool/output/"$file"; done`
+ this will extract all the data from the given set of finger print data sets.
+ You have the Data now and can try to get the match score of two fingerprint data `../bin/bozorth3 -m1 101_2.jpg.xyt 102_6.jpg.xyt`
+ Gives out the score betweent the given two fingerprints!!

[Read Image Transformations](https://github.com/sireeshdevaraj/Image-attack-detection-with-enhancement/blob/master/transformations.md)


## DenseNet Classifier

+ DenseNet is a Image Classification algorithm, developed to improve accuracy of a model by handling vanishing gradient problem.
+ DenseNet provides high accuracy compared to many other convolutional neural networks by connecting every layer directly with each other.
+ In DenseNet121 architecture we will be having 4 dense blocks.
+ In every dense block the layers present are all connected to eachother.
+ Each layer gets some feature maps from it's previous layer, each layer adds some feature maps to the existing feature maps.
+ Concatenation of feature maps is done only if the size of feature maps recieved from previous layers and the size of feature maps generated is similar.
+ There exist a transition layer between any two dense blocks

## Advantages of dense block over other classifiers
+ In normal convolutional neural networks the classifier classifies the image on the basis of the feature maps recieved from the final layer
+ These feature maps recieved from the final layer are called high level feature maps.
+ But DenseNet classifies the image usinf the feature maps generated by all the layers.
+ DenseNet classifier has
->Strengthen  feature propagation
->Encourage Feature reuse
+ Growth rate in DenseNet121 is defined as thenumber of feature maps that a layer can produce



[DenseNet121 Architecture](https://github.com/sireeshdevaraj/Image-attack-detection-with-enhancement/blob/master/densenet121.png)
[DenseNet121 Readme](https://github.com/sireeshdevaraj/Image-attack-detection-with-enhancement/blob/8d271538586f43e00e2f5a2197864129744ea6d9/Densenet121.md)
[DenseNet121 Implementation using pytorch ](https://github.com/sireeshdevaraj/Image-attack-detection-with-enhancement/blob/master/Densenet121.ipynb)





# NOTE:
+ All the processed images are saved using pyplot in python
+ This Readme and Project are still in the initial phase and the readme is not completed yet

## Tabnet:
+ TabNet is to effectively apply deep neural networks on tabular data which still consists of a large portion of users and processed data across various applications such as healthcare, banking, retail, finance, marketing, etc.

## Tabnet Architecture
  ![](https://github.com/sireeshdevaraj/Image-attack-detection-with-enhancement/blob/master/assets/fabnet.png)
  
  ## DenseNet121 implementation and accuracy table
  |     Scanners          |     LivDet2015         |                         |             |     LivDet2017         |                        |             |     LivDet2019         |                        |             |          |
|-----------------------|------------------------|-------------------------|-------------|------------------------|------------------------|-------------|------------------------|------------------------|-------------|----------|
|                       |     Train     Score    |     Valid      Score    |     ACE%    |     Train     Score    |     Valid     Score    |     ACE%    |     Train     Score    |     Valid     Score    |     ACE%    |          |
|     DigitalPersona    |     87.8               |     87.9                |     12    |     91.1               |     87.2               |     13    |     86.7               |     62.4               |     38    |          |
|     CrossMatch        |     88.9               |     90.5                |     9.5    |                        |                        |             |                        |                        |             |          |
|     HiScan            |     87.9               |     90.4                |     9     |                        |                        |             |                        |                        |             |          |
|     GreenBit          |     88.8               |     89.8                |     11    |     86.9               |     84.8               |     15    |     86.8               |     87.2               |     13    |          |
|     Orcathus          |                        |                         |             |     91.4               |     85.9               |     14    |     91.3               |     94.4               |     56    |          |


## Cross Dataset Training and accuracy table
|     Train Scanner        |     Test Scanner      |     Training   score    |     Testing score    |     ACE%    |
|--------------------------|-----------------------|-------------------------|----------------------|-------------|
|     Digital   Persona    |     GreenBit          |     91.04               |     0.62             |     38    |
|     DigitalPersona       |     Orcathus          |     90                  |     66               |     34    |
|     GreenBit             |     DigitalPersona    |     84.7                |     82               |     18    |
|     GreenBit             |     Orcathus          |     91.1                |     87.2             |     13    |
|     Orcathus             |     DigitalPersona    |     91.09               |     0.55             |     45    |
|     Orcathus             |     GreenBit          |     91.6                |     0.64             |     36    |
              

## Accuracy of tabnet classifier for LivDet2015 Data set
|     Scanner    | Total Features | Selected Features | Threshold | Train Score | Valid score | Final Test score | Ace% |
|:--------------:|:--------------:|:-----------------:|:---------:|:-----------:|:-----------:|:----------------:|:----:|
|     Hi scan    | 28             | 28                | -         | 84.4        | 83.01       | 89.2             | 11.8 |
|   Cross match  | 28             | 28                | -         | 99.47       | 98.48       | 97.4             | 2.6  |
| DigitalPersona | 28             | 9                 | 0.4       | 86.88       | 86.86       | 81.4             | 18.6 |
|    Training    | 28             | 12                | 0.2       | 98.58       | 96.89       | 92               | 8    |
